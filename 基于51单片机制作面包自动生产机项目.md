# 基于51单片机制作<面包自动生产机>项目

```c
#define uint unsigned int
#define uchar unsigned char
#define wela XBYTE[0xfeff]
#define dela XBYTE[0xfdff]
#define ad XBYTE[0xfbff]
#define PA XBYTE[0x1fff]
#define PB XBYTE[0x3fff]
#define PC XBYTE[0x5fff]
#define COM XBYTE[0x7fff]
#define left {hand_left=0;hand_right=1;}
#define right {hand_left=1;hand_right=0;}
#define stop {hand_left=1;hand_right=1;}
#define close hand_close_loose=1
#define loose hand_close_loose=0
#define down hand_up_down=1
#define up hand_up_down=0
#define yigw while(PA&0x01)
#define ergw while(PA&0x02)
#define sangw while(PA&0x04)
#define ss while(PA&0x08)
#define xj while(PA&0x10)
#define jj while(PA&0x20)
#define yw while(PA&0x40)
#define yigw_yw while(PA&0x80)
#define ergw_yw while(PB&0x80)
sbit hand_left=P1^5;
sbit hand_right=P1^6;
sbit hand_close_loose=P1^4;
sbit hand_up_down=P1^3;
sbit out=P3^4;
sbit prl=P3^5;

sbit cp=P1^0;
sbit dir=P1^1;
sbit rl=P1^2;
sbit bb=P2^3;

sbit rs=P3^0;
sbit en=P3^1;
sbit cs1=P3^2;
sbit cs2=P3^3;
uchar index=0;
wei=0xfe;
uchar dis[8];
uchar code table[]={
	0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0x88,0x83,0xc6,0xa1,0x86,0x8e,0xc1,0xff
};
uchar code han[][32]={
	/*--  文字:  欢  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x14,0x24,0x44,0x84,0x64,0x1C,0x20,0x18,0x0F,0xE8,0x08,0x08,0x28,0x18,0x08,0x00,
0x20,0x10,0x4C,0x43,0x43,0x2C,0x20,0x10,0x0C,0x03,0x06,0x18,0x30,0x60,0x20,0x00,
/*--  文字:  迎  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x40,0x41,0xCE,0x04,0x00,0xFC,0x04,0x02,0x02,0xFC,0x04,0x04,0x04,0xFC,0x00,0x00,
0x40,0x20,0x1F,0x20,0x40,0x47,0x42,0x41,0x40,0x5F,0x40,0x42,0x44,0x43,0x40,0x00,
/*--  文字:  使  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x40,0x20,0xF0,0x1C,0x07,0xF2,0x94,0x94,0x94,0xFF,0x94,0x94,0x94,0xF4,0x04,0x00,
0x00,0x00,0x7F,0x00,0x40,0x41,0x22,0x14,0x0C,0x13,0x10,0x30,0x20,0x61,0x20,0x00,
/*--  文字:  用  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0x00,0xFE,0x22,0x22,0x22,0x22,0xFE,0x22,0x22,0x22,0x22,0xFE,0x00,0x00,
0x80,0x40,0x30,0x0F,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x42,0x82,0x7F,0x00,0x00,
/*--  文字:  温  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x10,0x21,0x86,0x70,0x00,0x7E,0x4A,0x4A,0x4A,0x4A,0x4A,0x7E,0x00,0x00,0x00,0x00,
0x02,0xFE,0x01,0x40,0x7F,0x41,0x41,0x7F,0x41,0x41,0x7F,0x41,0x41,0x7F,0x40,0x00,
/*--  文字:  度  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0xFC,0x04,0x24,0x24,0xFC,0xA5,0xA6,0xA4,0xFC,0x24,0x24,0x24,0x04,0x00,
0x80,0x60,0x1F,0x80,0x80,0x42,0x46,0x2A,0x12,0x12,0x2A,0x26,0x42,0xC0,0x40,0x00,
/*--  文字:  配  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0xF2,0x12,0xFE,0x12,0xFE,0x12,0xF2,0x00,0xC2,0x42,0x42,0x42,0x42,0x7E,0x00,0x00,
0x7F,0x25,0x24,0x24,0x24,0x25,0x7F,0x00,0x3F,0x40,0x40,0x40,0x40,0x40,0x78,0x00,
/*--  文字:  料  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x20,0x24,0xA8,0x70,0xFF,0x68,0xA4,0x20,0x42,0x8C,0x00,0x00,0xFF,0x00,0x00,0x00,
0x08,0x06,0x01,0x00,0xFF,0x00,0x01,0x02,0x02,0x03,0x02,0x02,0xFF,0x01,0x01,0x00,
/*--  文字:  自  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0x00,0xF8,0x48,0x48,0x4C,0x4B,0x4A,0x48,0x48,0x48,0xF8,0x00,0x00,0x00,
0x00,0x00,0x00,0xFF,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0x44,0xFF,0x00,0x00,0x00,
/*--  文字:  动  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x20,0x24,0x24,0xE4,0x24,0x24,0x24,0x20,0x10,0x10,0xFF,0x10,0x10,0xF0,0x00,0x00,
0x08,0x1C,0x0B,0x08,0x0C,0x05,0x4E,0x24,0x10,0x0C,0x03,0x20,0x40,0x3F,0x00,0x00,
/*--  文字:  手  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x24,0x24,0x24,0x24,0x24,0x24,0xFE,0x22,0x22,0x22,0x22,0x22,0x20,0x00,0x00,
0x02,0x02,0x02,0x02,0x02,0x42,0x82,0x7F,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x00,
/*--  文字:  水  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x10,0x10,0x10,0x90,0x70,0x00,0xFF,0x20,0x60,0x90,0x08,0x04,0x00,0x00,0x00,
0x10,0x10,0x08,0x06,0x01,0x40,0x80,0x7F,0x00,0x00,0x01,0x06,0x0C,0x18,0x08,0x00,
/*--  文字:  果  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0x00,0x3E,0x2A,0x2A,0x2A,0xFE,0x2A,0x2A,0x2A,0x3E,0x00,0x00,0x00,0x00,
0x21,0x21,0x11,0x11,0x09,0x05,0x03,0xFF,0x03,0x05,0x09,0x09,0x11,0x31,0x11,0x00,
/*--  文字:  味  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0xFC,0x04,0x04,0xFE,0x84,0x88,0x88,0x88,0xFF,0x88,0x88,0x8C,0xC8,0x80,0x00,
0x00,0x1F,0x08,0x08,0x2F,0x10,0x08,0x04,0x02,0xFF,0x02,0x0C,0x10,0x30,0x10,0x00,
/*--  文字:  巧  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x04,0x04,0xFC,0x04,0x04,0x00,0x02,0x42,0xFE,0x42,0x42,0x42,0xC2,0x02,0x00,
0x08,0x08,0x04,0x07,0x04,0x02,0x02,0x00,0x00,0x20,0x40,0x80,0x40,0x3F,0x00,0x00,
/*--  文字:  克  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x04,0x04,0xE4,0x24,0x24,0x24,0x3F,0x24,0x24,0x24,0xE4,0x04,0x04,0x00,0x00,
0x00,0x00,0x80,0x43,0x31,0x0F,0x01,0x01,0x01,0x3F,0x41,0x43,0x40,0x40,0x70,0x00,
/*--  文字:  力  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x10,0x10,0x10,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0x10,0xF0,0x00,0x00,
0x00,0x00,0x80,0x40,0x20,0x18,0x06,0x01,0x00,0x00,0x40,0x80,0x40,0x3F,0x00,0x00,
/*--  文字:  牛  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x40,0x30,0x0E,0x08,0x08,0x08,0x08,0xFF,0x08,0x08,0x08,0x08,0x08,0x00,0x00,
0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x7F,0x01,0x01,0x01,0x01,0x01,0x01,0x00,
/*--  文字:  奶  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x08,0x88,0x78,0x0F,0x08,0xF8,0x00,0x02,0xFE,0x02,0x62,0x5A,0x46,0xC0,0x00,0x00,
0x40,0x21,0x12,0x0C,0x8B,0x50,0x20,0x18,0x07,0x00,0x00,0x20,0x40,0x3F,0x00,0x00,
/*--  文字:  设  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x40,0x41,0xCE,0x04,0x00,0x80,0x40,0xBE,0x82,0x82,0x82,0xBE,0xC0,0x40,0x40,0x00,
0x00,0x00,0x7F,0x20,0x90,0x80,0x40,0x43,0x2C,0x10,0x10,0x2C,0x43,0xC0,0x40,0x00,
/*--  文字:  定  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x10,0x0C,0xA4,0x24,0x24,0x25,0xE6,0x24,0x24,0x24,0x24,0x14,0x0C,0x04,0x00,
0x40,0x20,0x18,0x07,0x08,0x10,0x20,0x7F,0x42,0x42,0x42,0x42,0x40,0x40,0x00,0x00,
/*--  文字:  当  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0x40,0x42,0x5C,0x48,0x40,0x40,0x7F,0x40,0x50,0x4E,0x44,0xC0,0x00,0x00,
0x00,0x00,0x20,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0x22,0x7F,0x00,0x00,
/*--  文字:  前  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x08,0x08,0xE8,0xA8,0xA9,0xAE,0xEA,0x08,0x08,0xC8,0x0C,0x0B,0xEA,0x08,0x08,0x00,
0x00,0x00,0x7F,0x04,0x24,0x44,0x3F,0x00,0x00,0x1F,0x40,0x80,0x7F,0x00,0x00,0x00,
/*--  文字:  取  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x02,0x02,0xFE,0x92,0x92,0x92,0xFE,0x02,0x02,0x7C,0x84,0x04,0x84,0x7C,0x04,0x00,
0x10,0x10,0x0F,0x08,0x08,0x04,0xFF,0x04,0x22,0x10,0x09,0x06,0x09,0x30,0x10,0x00,
/*--  文字:  搅  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x08,0x08,0x08,0xFF,0x88,0x48,0x30,0xD4,0x58,0x52,0x5C,0x50,0xD8,0x36,0x10,0x00,
0x02,0x42,0x81,0x7F,0x00,0x40,0x40,0x27,0x18,0x07,0x3C,0x40,0x47,0x40,0x70,0x00,
/*--  文字:  拌  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x08,0x08,0x08,0xFF,0x48,0x08,0x24,0x38,0x20,0xFF,0x20,0x30,0x2C,0x28,0x00,0x00,
0x02,0x42,0x81,0x7F,0x00,0x02,0x02,0x02,0x02,0xFF,0x02,0x02,0x02,0x02,0x02,0x00,
/*--  文字:  烘  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0xE0,0x00,0xFF,0x10,0x08,0x10,0x10,0xFF,0x12,0x10,0xFF,0x12,0x10,0x00,0x00,
0x41,0x30,0x0C,0x03,0x04,0x4A,0x22,0x12,0x0B,0x02,0x06,0x0B,0x12,0x62,0x02,0x00,
/*--  文字:  烤  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0xE0,0x00,0xFF,0x10,0x28,0x24,0x24,0xA4,0xFF,0xA4,0xB4,0xA8,0xB6,0x20,0x00,
0x41,0x30,0x0C,0x03,0x04,0x1A,0x02,0x01,0x00,0x47,0x84,0x44,0x3C,0x00,0x00,0x00,
/*--  文字:  完  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x90,0x8C,0xA4,0xA4,0xA4,0xA5,0xA6,0xA4,0xA4,0xA4,0xA4,0x94,0x8C,0x04,0x00,
0x00,0x80,0x40,0x20,0x18,0x07,0x00,0x00,0x00,0x3F,0x40,0x40,0x40,0x70,0x00,0x00,
/*--  文字:  成  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0xF8,0x48,0x48,0x48,0xC8,0x08,0xFF,0x08,0x09,0x0A,0xC8,0x88,0x08,0x00,
0x40,0x30,0x0F,0x00,0x08,0x50,0x4F,0x20,0x10,0x0B,0x0C,0x12,0x21,0x40,0xF0,0x00,
/*--  文字:  面  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x02,0xF2,0x12,0x12,0xFA,0x96,0x92,0x92,0xF2,0x12,0x12,0x12,0xF2,0x02,0x00,
0x00,0x00,0x7F,0x20,0x20,0x3F,0x24,0x24,0x24,0x3F,0x20,0x20,0x20,0x7F,0x00,0x00,
/*--  文字:  粉  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x24,0x38,0xE0,0xFF,0x30,0xAC,0xC0,0xB0,0x8E,0x80,0x80,0x8F,0xB2,0xC0,0x40,0x00,
0x08,0x07,0x00,0xFF,0x01,0x82,0x40,0x30,0x0F,0x40,0x80,0x40,0x3F,0x00,0x00,0x00,
/*--  文字:  水  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x10,0x10,0x10,0x90,0x70,0x00,0xFF,0x20,0x60,0x90,0x08,0x04,0x00,0x00,0x00,
0x10,0x10,0x08,0x06,0x01,0x40,0x80,0x7F,0x00,0x00,0x01,0x06,0x0C,0x18,0x08,0x00,
/*--  文字:  糖  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x24,0x38,0xE0,0xFF,0xB0,0x28,0xFC,0x54,0x54,0x55,0xFE,0x54,0x54,0xF4,0x44,0x00,
0x08,0x07,0x00,0xFF,0x40,0x31,0x0F,0xF9,0x49,0x49,0x4F,0x49,0x49,0xF9,0x00,0x00,
/*--  文字:  输  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x44,0xF4,0x4F,0xE4,0x44,0x64,0x90,0x98,0x94,0x93,0x14,0x98,0x08,0xD0,0x10,0x00,
0x04,0x04,0x04,0xFF,0x02,0x02,0xFF,0x4A,0x8A,0x7F,0x00,0x3F,0x80,0xFF,0x00,0x00,
/*--  文字:  出  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0xFC,0x40,0x40,0x40,0x40,0xFF,0x40,0x40,0x40,0x40,0x40,0xFC,0x00,0x00,
0x00,0x00,0x7E,0x20,0x20,0x20,0x20,0x3F,0x20,0x20,0x20,0x20,0x20,0x7E,0x00,0x00,
/*--  文字:  电  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0xF8,0x48,0x48,0x48,0x48,0xFF,0x48,0x48,0x48,0x48,0xF8,0x00,0x00,0x00,
0x00,0x00,0x0F,0x04,0x04,0x04,0x04,0x3F,0x44,0x44,0x44,0x44,0x4F,0x40,0x70,0x00,
/*--  文字:  压  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0xFE,0x02,0x42,0x42,0x42,0x42,0xFA,0x42,0x42,0x42,0x62,0x42,0x02,0x00,
0x20,0x18,0x27,0x20,0x20,0x20,0x20,0x20,0x3F,0x20,0x21,0x2E,0x24,0x20,0x20,0x00,
/*--  文字:  工  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x00,0x02,0x02,0x02,0x02,0x02,0xFE,0x02,0x02,0x02,0x02,0x02,0x02,0x00,0x00,
0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x3F,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00,
/*--  文字:  作  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x80,0x40,0x20,0xF8,0x07,0x22,0x18,0x0C,0xFB,0x48,0x48,0x48,0x68,0x48,0x08,0x00,
0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0xFF,0x04,0x04,0x04,0x04,0x06,0x04,0x00,
/*--  文字:  状  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x08,0x30,0x00,0xFF,0x20,0x20,0x20,0x20,0xFF,0x20,0xE1,0x26,0x2C,0x20,0x20,0x00,
0x04,0x02,0x01,0xFF,0x40,0x20,0x18,0x07,0x00,0x00,0x03,0x0C,0x30,0x60,0x20,0x00,
/*--  文字:  态  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=16x16   --*/
0x00,0x04,0x04,0x04,0x84,0x44,0x34,0x4F,0x94,0x24,0x44,0x84,0x84,0x04,0x00,0x00,
0x00,0x60,0x39,0x01,0x00,0x3C,0x40,0x42,0x4C,0x40,0x40,0x70,0x04,0x09,0x31,0x00,
};
uchar code shu[][16]={
	/*--  文字:  0  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,

/*--  文字:  1  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,

/*--  文字:  2  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,

/*--  文字:  3  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,

/*--  文字:  4  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,

/*--  文字:  5  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,

/*--  文字:  6  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,

/*--  文字:  7  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,

/*--  文字:  8  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,

/*--  文字:  9  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,

/*--  文字:  .  --*/
/*--  宋体12;  此字体下对应的点阵为：宽x高=8x16   --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,
};
delay(uint x)
{
	uint y;
	while(x--)
	{
		for(y=0;y<220;y++);
	}
}
void init()
{
	TMOD=0x01;
	TH0=(65536-1000)/256;
	TL0=(65536-1000)%256;
	EA=1;
	ET0=1;
	TR0=1;
}
writecom(uchar com)
{
	P0=com;
	rs=0;
	en=1;
	en=0;
}
writedate(uchar date)
{
	P0=date;
	rs=1;
	en=1;
	en=0;
}
choosecs(uchar cs)
{
	switch(cs)
	{
		case 0:cs1=1;cs2=1;break;
		case 1:cs1=1;cs2=0;break;
		case 2:cs1=0;cs2=1;break;
		default:break;
	}
}
clear(uchar date)
{
	uchar i,k;
	choosecs(date);
	for(i=0;i<8;i++)
	{
		writecom(i|0xb8);
		for(k=0;k<64;k++)
		{
			writecom(k|0x40);
			writedate(0x00);
		}
	}
}
init12864()
{
	writecom(1|0x3e);
	writecom(0|0xc0);
	clear(0);
}
sz(uchar p,r,n)
{
	uchar i;
	if(r>63)
	{
		choosecs(2);
	}
	else
	{
		choosecs(1);
	}
	writecom(p|0xb8);
	writecom(r|0x40);
	for(i=0;i<16;i++)
	{
		writedate(han[n][i]);
	}
	writecom(p+1|0xb8);
	writecom(r|0x40);
	for(i=16;i<32;i++)
	{
		writedate(han[n][i]);
	}
}
sz1(uchar p,r,n)
{
	uchar i;
	if(r>63)
	{
		choosecs(2);
	}
	else
	{
		choosecs(1);
	}
	writecom(p|0xb8);
	writecom(r|0x40);
	for(i=0;i<8;i++)
	{
		writedate(shu[n][i]);
	}
	writecom(p+1|0xb8);
	writecom(r|0x40);
	for(i=8;i<16;i++)
	{
		writedate(shu[n][i]);
	}
}
sz2(uchar p,r,n)
{
	uchar i;
	if(r>63)
	{
		choosecs(2);
	}
	else
	{
		choosecs(1);
	}
	writecom(p|0xb8);
	writecom(r|0x40);
	for(i=0;i<16;i++)
	{
		writedate(~han[n][i]);
	}
	writecom(p+1|0xb8);
	writecom(r|0x40);
	for(i=16;i<32;i++)
	{
		writedate(~han[n][i]);
	}
}
uint key,ktime,ka=-1;
scankey()
{
	COM=0x80;
	PC=0x0f;
	COM=0x81;
	if((PC&0x0f)!=0x0f)
	{
		ktime++;
		if(ktime==10)
		{
			key=PC&0x0f;
			COM=0x80;
			PC=0xf0;
			COM=0x88;
			key=key|(PC&0xf0);
			switch(key)
			{
				case 0xee: ka=0; break;
				case 0xde: ka=1; break;
				case 0xbe: ka=2; break;
				case 0x7e: ka=3; break;
				case 0xed: ka=4; break;
				case 0xdd: ka=5; break;
				case 0xbd: ka=6; break;
				case 0x7d: ka=7; break;
				case 0xeb: ka=8; break;
				case 0xdb: ka=9; break;
				case 0xbb: ka=10; break;
				case 0x7b: ka=11; break;
				case 0xe7: ka=12; break;
				case 0xd7: ka=13; break;
				case 0xb7: ka=14; break;
				case 0x77: ka=15; break;
				default: break;
			}
		}
	}
	else ktime=0;
}
uint adjj,wenduzhi,made;
adzidong()					//ad设置的值
{
	made=wenduzhi*2.5;
	sz1(4,80,made/100);
	sz1(4,88,10);
	sz1(4,96,made/10%10);
}
uint a,wdpl,x,b;
bujin()
{	
	uint b,j,i;
	b=0;
	dir=1;
	while(b!=1)
	{
		cp=~cp;
		for(j=0;j<100;j++);
		if(rl==1)
		{
			for(j=0;j<100;j++);
			dir=0;
			for(i=0;i<950;i++)
			{
				cp=~cp;
				for(j=0;j<100;j++);
			}
			b=1;
		}
	}
}
ji()
{
	up;
	ss;
	left;
	sangw;
	loose;
	stop;
}
shezhi()
{
	if(ka==0)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		clear(0);
		sz2(0,48,4);
		sz2(0,64,5);
		sz(2,48,6);
		sz(2,64,7);
	}
	if(ka==9)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		wdpl++;
		wdpl=wdpl%2;
		if(wdpl==1)			//配料反显
		{
			sz(0,48,4);
			sz(0,64,5);
			sz2(2,48,6);
			sz2(2,64,7);
		}
		if(wdpl==0)			//温度反显
		{
			sz2(0,48,4);
			sz2(0,64,5);
			sz(2,48,6);
			sz(2,64,7);
		}
	}

	if(ka==5&wdpl==1)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		clear(0);
		sz2(0,32,11);
		sz2(0,48,12);
		sz2(0,64,13);
		sz(2,32,14);
		sz(2,48,15);
		sz(2,64,16);
		sz(2,80,13);
		sz(4,32,17);
		sz(4,48,18);
		sz(4,64,13);
		a=2;			//配料子函数
	}
	if(ka==5&wdpl==0)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		clear(0);
		sz2(0,48,8);
		sz2(0,64,9);
		sz(2,48,10);
		sz(2,64,9);
		a=1;			//温度子函数
	}
}

uint wdsz;
wendu()
{
	if(ka==9)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		wdsz++;
		wdsz=wdsz%2;
		if(wdsz==0)			//手动反显
		{
			sz(0,48,8);
			sz(0,64,9);
			sz2(2,48,10);
			sz2(2,64,9);
		}

		if(wdsz==1)			//自动反显
		{
			sz2(0,48,8);
			sz2(0,64,9);
			sz(2,48,10);
			sz(2,64,9);
		}
	}

	if(ka==5&wdsz==0)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		a=0;
	}
	if(ka==5&wdsz==1)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		clear(0);
		sz(0,32,8);
		sz(0,48,9);
		sz1(0,64,0);
		sz1(0,72,0);
		sz1(0,80,0);
		a=3;
	}
}
uint zn;
peiliao()
{
	if(ka==9)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		zn++;
		zn=zn%3;
		if(zn==0)
		{
			sz2(0,32,11);
			sz2(0,48,12);
			sz2(0,64,13);
			sz(2,32,14);
			sz(2,48,15);
			sz(2,64,16);
			sz(2,80,13);
			sz(4,32,17);
			sz(4,48,18);
			sz(4,64,13);
		}
		if(zn==1)
		{
			sz(0,32,11);
			sz(0,48,12);
			sz(0,64,13);
			sz2(2,32,14);
			sz2(2,48,15);
			sz2(2,64,16);
			sz2(2,80,13);
			sz(4,32,17);
			sz(4,48,18);
			sz(4,64,13);
		}
		if(zn==2)
		{
			sz(0,32,11);
			sz(0,48,12);
			sz(0,64,13);
			sz(2,32,14);
			sz(2,48,15);
			sz(2,64,16);
			sz(2,80,13);
			sz2(4,32,17);
			sz2(4,48,18);
			sz2(4,64,13);
		}
	}
	if(ka==5&zn==0)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		x=2;
		clear(0);
		sz2(0,48,4);
		sz2(0,64,5);
		sz(2,48,6);
		sz(2,64,7);
	}
	if(ka==5&zn==1)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		x=4;
		clear(0);
		sz2(0,48,4);
		sz2(0,64,5);
		sz(2,48,6);
		sz(2,64,7);
	}
	if(ka==5&zn==2)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		x=6;
		clear(0);
		sz2(0,48,4);
		sz2(0,64,5);
		sz(2,48,6);
		sz(2,64,7);
	}
	if(ka==8)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		a=4;
	}
}
uint fuck,s1,s2,s3,y;
wendushezhi()
{
	if(ka==4&fuck!=0)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		fuck--;
		if(fuck==2)
		{
			fuck=0;	
		}
		sz1(0,64,s1);
		sz1(0,72,s2);
		sz1(0,80,s3);
	}
	if(ka==6&fuck!=2)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		fuck++;
		if(fuck==2)
		{
			fuck=2;
		}
		sz1(0,64,s1);
		sz1(0,72,s2);
		sz1(0,80,s3);
	}

	if(ka==1)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		if(fuck==0&s1!=2)
		{
			y=s1;
			y++;
			s1=y;
			sz1(0,64,s1);
		}
		if(fuck==1&s2!=9)
		{
			y=0;
			y=s2;
			y++;
			s2=y;
			sz1(0,72,s2);
		}
		if(fuck==2&s3!=9)
		{
			y=0;
			y=s3;
			y++;
			s3=y;
			sz1(0,80,s3);
		}
	}
	if(ka==9)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		if(fuck==0&s1!=0)
		{
			y=s1;
			y--;
			s1=y;
			sz1(0,64,s1);
		}
		if(fuck==1&s2!=0)
		{
			y=0;
			y=s2;
			y--;
			s2=y;
			sz1(0,72,s2);
		}
		if(fuck==2&s3!=0)
		{
			y=0;
			y=s3;
			y--;
			s3=y;
			sz1(0,80,s3);
		}
	}
	if(ka==5)
	{
		COM=0x88;
		while(PC!=0xf0);
		ka=20;
		wenduzhi=s1*100+s2*10+s3;
		a=0;
	}
}
uint mf;
bujm()
{
	uint j,i;
	dir=0;
	for(j=0;j<100;j++);
	for(i=0;i<685*mf;i++)
	{
		cp=~cp;
		for(j=0;j<100;j++);
	}
}
qumf()
{
	mf=2;
	bujm();
	clear(0);
	sz(0,16,19);
	sz(0,32,20);
	sz(0,48,4);
	sz(0,64,5);
	sz1(0,80,2);
	sz1(0,88,0);
	sz1(0,96,0);
	sz(2,16,21);
	sz(2,32,22);
	sz(2,48,4);
	sz(2,64,5);
	sz1(2,80,s1);
	sz1(2,88,s2);
	sz1(2,96,s3);
	sz(4,16,34);
	sz(4,32,35);
	sz(4,48,36);
	sz(4,64,37);
	sz(6,16,38);
	sz(6,32,39);
	sz(6,48,40);
	sz(6,64,41);
	sz(6,80,23);
	sz(6,96,30);
	sz(6,112,31);
	a=5;
}
qushui()
{
	mf=2;
	bujm();
	clear(0);
	sz(0,16,19);
	sz(0,32,20);
	sz(0,48,4);
	sz(0,64,5);
	sz1(0,80,2);
	sz1(0,88,0);
	sz1(0,96,0);
	sz(2,16,21);
	sz(2,32,22);
	sz(2,48,4);
	sz(2,64,5);
	sz1(2,80,s1);
	sz1(2,88,s2);
	sz1(2,96,s3);
	sz(4,16,34);
	sz(4,32,35);
	sz(4,48,36);
	sz(4,64,37);
	sz(6,16,38);
	sz(6,32,39);
	sz(6,48,40);
	sz(6,64,41);
	sz(6,80,23);
	sz(6,96,32);
	a=7;
}
qutang()
{
	mf=2;
	bujm();
	clear(0);
	sz(0,16,19);
	sz(0,32,20);
	sz(0,48,4);
	sz(0,64,5);
	sz1(0,80,2);
	sz1(0,88,0);
	sz1(0,96,0);
	sz(2,16,21);
	sz(2,32,22);
	sz(2,48,4);
	sz(2,64,5);
	sz1(2,80,s1);
	sz1(2,88,s2);
	sz1(2,96,s3);
	sz(4,16,34);
	sz(4,32,35);
	sz(4,48,36);
	sz(4,64,37);
	sz(6,16,38);
	sz(6,32,39);
	sz(6,48,40);
	sz(6,64,41);
	sz(6,80,23);
	sz(6,96,33);
	a=9;
}
qupeiliao()
{
	if(x==2)
	{
		mf=2;
		bujm();
		clear(0);
		sz(0,16,19);
		sz(0,32,20);
		sz(0,48,4);
		sz(0,64,5);
		sz1(0,80,2);
		sz1(0,88,0);
		sz1(0,96,0);
		sz(2,16,21);
		sz(2,32,22);
		sz(2,48,4);
		sz(2,64,5);
		sz1(2,80,s1);
		sz1(2,88,s2);
		sz1(2,96,s3);
		sz(4,16,34);
		sz(4,32,35);
		sz(4,48,36);
		sz(4,64,37);
		sz(6,16,38);
		sz(6,32,39);
		sz(6,48,40);
		sz(6,64,41);
		sz(6,80,23);
		sz(6,96,11);
		sz(6,112,12);
		a=11;
	}
	if(x==4)
	{
		mf=4;
		bujm();
		clear(0);
		sz(0,16,19);
		sz(0,32,20);
		sz(0,48,4);
		sz(0,64,5);
		sz1(0,80,2);
		sz1(0,88,0);
		sz1(0,96,0);
		sz(2,16,21);
		sz(2,32,22);
		sz(2,48,4);
		sz(2,64,5);
		sz1(2,80,s1);
		sz1(2,88,s2);
		sz1(2,96,s3);
		sz(4,16,34);
		sz(4,32,35);
		sz(4,48,36);
		sz(4,64,37);
		sz(6,0,38);
		sz(6,16,39);
		sz(6,32,40);
		sz(6,48,41);
		sz(6,64,23);
		sz(6,80,14);
		sz(6,96,15);
		sz(6,112,16);
		a=11;
	}
	if(x==6)
	{
		mf=6;
		bujm();
		clear(0);
		sz(0,16,19);
		sz(0,32,20);
		sz(0,48,4);
		sz(0,64,5);
		sz1(0,80,2);
		sz1(0,88,0);
		sz1(0,96,0);
		sz(2,16,21);
		sz(2,32,22);
		sz(2,48,4);
		sz(2,64,5);
		sz1(2,80,s1);
		sz1(2,88,s2);
		sz1(2,96,s3);
		sz(4,16,34);
		sz(4,32,35);
		sz(4,48,36);
		sz(4,64,37);
		sz(6,16,38);
		sz(6,32,39);
		sz(6,48,40);
		sz(6,64,41);
		sz(6,80,23);
		sz(6,96,17);
		sz(6,112,18);
		a=11;
	}
}
jixieshou()
{
	right;
	yigw;
	stop;
	down;
	xj;
	delay(100);
	close;
	up;
	ss;
	delay(100);
	left;
	ergw;
	stop;
	down;
	xj;
	delay(100);
	loose;
	up;
	a=6;
}
jixieshou1()
{
	right;
	yigw;
	stop;
	down;
	xj;
	delay(100);
	close;
	up;
	ss;
	delay(100);
	left;
	ergw;
	stop;
	down;
	xj;
	delay(100);
	loose;
	up;
	a=8;
}
jixieshou2()
{
	right;
	yigw;
	stop;
	down;
	xj;
	delay(100);
	close;
	up;
	ss;
	delay(100);
	left;
	ergw;
	stop;
	down;
	xj;
	delay(100);
	loose;
	up;
	a=10;
}
jixieshou3()
{
	right;
	yigw;
	stop;
	down;
	xj;
	delay(100);
	close;
	up;
	ss;
	delay(50);
	left;
	ergw;
	stop;
	down;
	xj;
	delay(100);
	loose;
	up;
	a=12;
}
dianji()
{
	uint k,s;
	k=1;
	prl=1;
	while(k!=0)
	{
		if(out==0)
		{
			delay(10);
			if(out==1)
			{
				s++;
				if(s==6)
				{
					s=0;
					k=0;
					prl=0;
				}
			}
		}
	}
}
gunwei()
{
	left;
	sangw;
	stop;
	a=14;
}
bujinhongkao()
{
	uint j,i;
	dir=0;
	for(j=0;j<500;j++);
	for(i=0;i<1370;i++)
	{
		cp=~cp;
		for(j=0;j<500;j++);
	}
	a=15;
}
void main()
{
	bb=0;
	prl=0;
	COM=0x92;
	ji();
	P0=0xff;
	init();

	init12864();
	sz(0,32,0);
	sz(0,48,1);
	sz(0,64,2);
	sz(0,80,3);
	bujin();
	while(1)
	{

		P0=0xff;
		scankey();
		P0=0xff;
		if(a==0)  
		{
			P0=0xff;
			shezhi();
		}
		if(a==1)          
		{
			P0=0xff;
			wendu();
		}
		if(a==2)
		{
			P0=0xff;
			peiliao();
		}
		if(a==3)
		{
			P0=0xff;
			wendushezhi();
		}
		if(a==4)
		{
			P0=0xff;
			adzidong();
			qumf();
		}
		if(a==5)
		{
			P0=0xff;
			adzidong();
			COM=0x92;
			jixieshou();
		}
		if(a==6)
		{
			P0=0xff;
			adzidong();
			qushui();
		}
		if(a==7)
		{
			P0=0xff;
			adzidong();
			COM=0x92;
			jixieshou1();
		}
		if(a==8)
		{
			P0=0xff;
			adzidong();
			qutang();
		}
		if(a==9)
		{
			P0=0xff;
			adzidong();
			COM=0x92;
			jixieshou2();
		}
		if(a==10)
		{
			P0=0xff;
			adzidong();
			qupeiliao();
		}
		if(a==11)
		{
			P0=0xff;
			adzidong();
			COM=0x92;
			jixieshou3();
		}
		if(a==12)
		{
			P0=0xff;
			clear(0);
			adzidong();
			sz(0,16,19);
			sz(0,32,20);
			sz(0,48,4);
			sz(0,64,5);
			sz1(0,80,2);
			sz1(0,88,0);
			sz1(0,96,0);
			sz(2,16,21);
			sz(2,32,22);
			sz(2,48,4);
			sz(2,64,5);
			sz1(2,80,s1);
			sz1(2,88,s2);
			sz1(2,96,s3);

			sz(4,16,34);
			sz(4,32,35);
			sz(4,48,36);
			sz(4,64,37);

			sz(6,16,38);
			sz(6,32,39);
			sz(6,48,40);
			sz(6,64,41);
			sz(6,80,24);
			sz(6,96,25);
			dianji();
			a=13;
		}
		if(a==13)
		{
			P0=0xff;
			adzidong();
			COM=0x92;
			gunwei();
		}
		if(a==14)
		{
			P0=0xff;
			clear(0);
			adzidong();
			sz(0,16,19);
			sz(0,32,20);
			sz(0,48,4);
			sz(0,64,5);
			sz1(0,80,2);
			sz1(0,88,0);
			sz1(0,96,0);
			sz(2,16,21);
			sz(2,32,22);
			sz(2,48,4);
			sz(2,64,5);
			sz1(2,80,s1);
			sz1(2,88,s2);
			sz1(2,96,s3);

			sz(4,16,34);
			sz(4,32,35);
			sz(4,48,36);
			sz(4,64,37);
			sz(6,16,38);
			sz(6,32,39);
			sz(6,48,40);
			sz(6,64,41);
			sz(6,80,26);
			sz(6,96,27);
			bujinhongkao();			
		}
		if(a==15)
		{
			P0=0xff;
			clear(0);
			adzidong();
			sz(0,16,19);
			sz(0,32,20);
			sz(0,48,4);
			sz(0,64,5);
			sz1(0,80,2);
			sz1(0,88,0);
			sz1(0,96,0);
			sz(2,16,21);
			sz(2,32,22);
			sz(2,48,4);
			sz(2,64,5);
			sz1(2,80,s1);
			sz1(2,88,s2);
			sz1(2,96,s3);

			sz(4,16,34);
			sz(4,32,35);
			sz(4,48,36);
			sz(4,64,37);
			sz(6,16,38);
			sz(6,32,39);
			sz(6,48,40);
			sz(6,64,41);
			sz(6,80,28);
			sz(6,96,29);
			P0=0xff;
			bb=1;
			a=16;
		}
		if(a==16)
		{
			bb=1;
			if(ka==1|ka==2|ka==3|ka==4|ka==5|ka==6|ka==7|ka==8|ka==9|ka==10|ka==11|ka==12|ka==13|ka==14|ka==15)
			{
				COM=0x88;
				while(PC!=0xf0);
				ka=20;
				bb=0;
				clear(0);
				bujin();
				a=0;
				P0=0xff;
			}
		}
	}
}
uint tt,f,mi;
void timer0() interrupt 1
{
	TH0=(65536-1000)/256;
	TL0=(65536-1000)%256;
	wela=0xff;
	dela=0xff;
	dela=dis[0x07&index++];
	wela=wei;
	wei=_crol_(wei,1);
	tt++;
	if(tt==1000)
	{
		P0=0xff;
		P2=0xff;
		tt=0;
		mi++;
		if(mi>59)
		{
			mi=0;
			f++;
			if(f>59)
			{
				f=0;
			}
		}
	}
	dis[0]=table[mi%10];
	dis[1]=table[mi/10];
	dis[2]=table[f%10]&0x7f;
	dis[3]=table[f/10];
}
```

